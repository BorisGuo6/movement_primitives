<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Movement Primitives &#8212; movement_primitives 0.7.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css?v=3b405b93" />
    <script src="_static/documentation_options.js?v=5a057da9"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">
          movement_primitives</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="#">Home</a></li>
                <li><a href="api.html">API</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Movement Primitives</a><ul>
<li><a class="reference internal" href="#content">Content</a></li>
<li><a class="reference internal" href="#statement-of-need">Statement of Need</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#api-documentation">API Documentation</a></li>
<li><a class="reference internal" href="#install-library">Install Library</a><ul>
<li><a class="reference internal" href="#pypi-recommended">PyPI (Recommended)</a></li>
<li><a class="reference internal" href="#git-editable-mode">Git + Editable Mode</a></li>
<li><a class="reference internal" href="#git">Git</a></li>
<li><a class="reference internal" href="#build-cython-extension">Build Cython Extension</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#potential-field-of-2d-dmp">Potential Field of 2D DMP</a></li>
<li><a class="reference internal" href="#dmp-with-final-velocity">DMP with Final Velocity</a></li>
<li><a class="reference internal" href="#promps">ProMPs</a></li>
<li><a class="reference internal" href="#conditional-promps">Conditional ProMPs</a></li>
<li><a class="reference internal" href="#cartesian-dmps">Cartesian DMPs</a></li>
<li><a class="reference internal" href="#contextual-promps">Contextual ProMPs</a></li>
<li><a class="reference internal" href="#dual-cartesian-dmp">Dual Cartesian DMP</a></li>
<li><a class="reference internal" href="#coupled-dual-cartesian-dmp">Coupled Dual Cartesian DMP</a></li>
<li><a class="reference internal" href="#propagation-of-dmp-distribution-to-state-space">Propagation of DMP Distribution to State Space</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-api-documentation">Build API Documentation</a></li>
<li><a class="reference internal" href="#test">Test</a></li>
<li><a class="reference internal" href="#contributing">Contributing</a></li>
<li><a class="reference internal" href="#non-public-extensions">Non-public Extensions</a><ul>
<li><a class="reference internal" href="#mocap-library">MoCap Library</a></li>
<li><a class="reference internal" href="#get-urdfs">Get URDFs</a></li>
<li><a class="reference internal" href="#data">Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#related-publications">Related Publications</a></li>
<li><a class="reference internal" href="#citation">Citation</a></li>
<li><a class="reference internal" href="#funding">Funding</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><img alt="CI" src="https://github.com/dfki-ric/movement_primitives/actions/workflows/python-package.yml/badge.svg" />
<a class="reference external" href="https://codecov.io/gh/dfki-ric/movement_primitives"><img alt="codecov" src="https://codecov.io/gh/dfki-ric/movement_primitives/branch/main/graph/badge.svg?token=EFHUC81DBL" /></a>
<a class="reference external" href="https://doi.org/10.21105/joss.06695"><img alt="Paper DOI" src="https://joss.theoj.org/papers/10.21105/joss.06695/status.svg" /></a>
<a class="reference external" href="https://doi.org/10.5281/zenodo.6491361"><img alt="DOI" src="https://zenodo.org/badge/DOI/10.5281/zenodo.6491361.svg" /></a></p>
<section id="movement-primitives">
<h1>Movement Primitives<a class="headerlink" href="#movement-primitives" title="Link to this heading">¶</a></h1>
<blockquote>
<div><p>Dynamical movement primitives (DMPs), probabilistic movement primitives
(ProMPs), and spatially coupled bimanual DMPs for imitation learning.</p>
</div></blockquote>
<p>Movement primitives are a common representation of movements in robotics for
imitation learning, reinforcement learning, and black-box optimization of
behaviors. There are many types and variations. The Python library
movement_primitives focuses on imitation learning, generalization, and
adaptation of movement primitives in Cartesian space. It implements dynamical
movement primitives, probabilistic movement primitives, as well as Cartesian
and dual Cartesian movement primitives with coupling terms to constrain
relative movements in bimanual manipulation. They are implemented in Cython to
speed up online execution and batch processing in an offline setting. In
addition, the library provides tools for data analysis and movement evaluation.
It can be installed directly from
<a class="reference external" href="https://pypi.org/project/movement-primitives/">PyPI</a>.</p>
<img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/summary.png" width="100%" />
<section id="content">
<h2>Content<a class="headerlink" href="#content" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#statement-of-need"><span class="xref myst">Statement of Need</span></a></p></li>
<li><p><a class="reference internal" href="#features"><span class="xref myst">Features</span></a></p></li>
<li><p><a class="reference internal" href="#api-documentation"><span class="xref myst">API Documentation</span></a></p></li>
<li><p><a class="reference internal" href="#install-library"><span class="xref myst">Install Library</span></a></p></li>
<li><p><a class="reference internal" href="#examples"><span class="xref myst">Examples</span></a></p></li>
<li><p><a class="reference internal" href="#build-api-documentation"><span class="xref myst">Build API Documentation</span></a></p></li>
<li><p><a class="reference internal" href="#test"><span class="xref myst">Test</span></a></p></li>
<li><p><a class="reference internal" href="#contributing"><span class="xref myst">Contributing</span></a></p></li>
<li><p><a class="reference internal" href="#non-public-extensions"><span class="xref myst">Non-public Extensions</span></a></p></li>
<li><p><a class="reference internal" href="#related-publications"><span class="xref myst">Related Publications</span></a></p></li>
<li><p><a class="reference internal" href="#citation"><span class="xref myst">Citation</span></a></p></li>
<li><p><a class="reference internal" href="#funding"><span class="xref myst">Funding</span></a></p></li>
</ul>
</section>
<section id="statement-of-need">
<h2>Statement of Need<a class="headerlink" href="#statement-of-need" title="Link to this heading">¶</a></h2>
<p>Movement primitives are a common group of policy representations in robotics.
They are able to represent complex movement patterns, allow temporal and
spatial modification, offer stability guarantees, and are suitable for
imitation learning without complicated hyperparameter tuning, which are
advantages over general function approximators like neural networks. Movement
primitives are white-box models for movement generation and allow to control
several aspects of the movement. There are types of dynamical movement
primitives that allow to directly control the goal in state space, the final
velocity, or the relative pose of two robotic end-effectors. Probabilistic
movement primitives capture distributions of movements adequately and allow
conditioning in state space and blending of multiple movements. The main
disadvantage of movement primitives in comparison to general function
approximators is that they are limited in their capacity to represent behavior
that takes into account complex sensor data during execution. Nevertheless,
various types of movement primitives have proven to be a reliable and effective
tool in robot learning. A reliable tool deserves a similarly reliable open
source implementation. However, there are only a few actively maintained,
documented, and easy to use implementations. One of these is the library
<em>movement_primitives</em>. It combines several types of dynamical movement
primitives and probabilistic movement primitives in a single library with
a focus on Cartesian and bimanual movements.</p>
</section>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Dynamical Movement Primitives (DMPs) for</p>
<ul>
<li><p>positions (with fast Runge-Kutta integration)</p></li>
<li><p>Cartesian position and orientation (with fast Cython implementation)</p></li>
<li><p>Dual Cartesian position and orientation (with fast Cython implementation)</p></li>
</ul>
</li>
<li><p>Coupling terms for synchronization of position and/or orientation of dual Cartesian DMPs</p></li>
<li><p>Propagation of DMP weight distribution to state space distribution</p></li>
<li><p>Probabilistic Movement Primitives (ProMPs)</p></li>
</ul>
<p><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dual_cart_dmp_rh5_with_panel.gif" height="200px" /><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dmp_ur5_minimum_jerk.gif" height="200px" /></p>
<p>Left: Example of dual Cartesian DMP with <a class="reference external" href="https://robotik.dfki-bremen.de/en/research/robot-systems/rh5-manus/">RH5 Manus</a>.
Right: Example of joint space DMP with UR5.</p>
</section>
<section id="api-documentation">
<h2>API Documentation<a class="headerlink" href="#api-documentation" title="Link to this heading">¶</a></h2>
<p>The API documentation is available
<a class="reference external" href="https://dfki-ric.github.io/movement_primitives/">here</a>.</p>
</section>
<section id="install-library">
<h2>Install Library<a class="headerlink" href="#install-library" title="Link to this heading">¶</a></h2>
<p>This library requires Python 3.6 or later and pip is recommended for the
installation. In the following instructions, we assume that the command
<code class="docutils literal notranslate"><span class="pre">python</span></code> refers to Python 3. If you use the system’s Python version, you
might have to add the flag <code class="docutils literal notranslate"><span class="pre">--user</span></code> to any installation command.</p>
<section id="pypi-recommended">
<h3>PyPI (Recommended)<a class="headerlink" href="#pypi-recommended" title="Link to this heading">¶</a></h3>
<p>I recommend to install the library via pip from the Python package index
(PyPI):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>movement_primitives<span class="o">[</span>all<span class="o">]</span>
</pre></div>
</div>
<p>If you don’t want to have all dependencies installed, just omit <code class="docutils literal notranslate"><span class="pre">[all]</span></code>.</p>
<p>This will install the latest release. If you want to install the latest
development version, you have to install from git.</p>
</section>
<section id="git-editable-mode">
<h3>Git + Editable Mode<a class="headerlink" href="#git-editable-mode" title="Link to this heading">¶</a></h3>
<p>Editable mode means that you don’t have to install the library after editing
the source code. Changes will be directly available in the installed library
since pip creates a symlink.</p>
<p>You can clone the git repository and install it in editable mode with pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/dfki-ric/movement_primitives.git
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="o">[</span>all<span class="o">]</span>
</pre></div>
</div>
<p>If you don’t want to have all dependencies installed, just omit <code class="docutils literal notranslate"><span class="pre">[all]</span></code>.</p>
</section>
<section id="git">
<h3>Git<a class="headerlink" href="#git" title="Link to this heading">¶</a></h3>
<p>Alternatively, you can install the library and its dependencies without pip
from the git repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/dfki-ric/movement_primitives.git
python<span class="w"> </span>setup.py<span class="w"> </span>install
</pre></div>
</div>
</section>
<section id="build-cython-extension">
<h3>Build Cython Extension<a class="headerlink" href="#build-cython-extension" title="Link to this heading">¶</a></h3>
<p>You could also just build the Cython extension with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>setup.py<span class="w"> </span>build_ext<span class="w"> </span>--inplace
</pre></div>
</div>
</section>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h3>
<p>An alternative way to install dependencies is the requirements.txt file in the
main folder of the git repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
</section>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<p>You will find a lot of examples in the subfolder
<a class="reference external" href="https://github.com/dfki-ric/movement_primitives/tree/main/examples"><code class="docutils literal notranslate"><span class="pre">examples/</span></code></a>.
Here are just some highlights to showcase the library.</p>
<section id="potential-field-of-2d-dmp">
<h3>Potential Field of 2D DMP<a class="headerlink" href="#potential-field-of-2d-dmp" title="Link to this heading">¶</a></h3>
<img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dmp_potential_field.png" width="800px" />
<p>A Dynamical Movement Primitive defines a potential field that superimposes
several components: transformation system (goal-directed movement), forcing
term (learned shape), and coupling terms (e.g., obstacle avoidance).</p>
<p><a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/plot_dmp_potential_field.py">Script</a></p>
</section>
<section id="dmp-with-final-velocity">
<h3>DMP with Final Velocity<a class="headerlink" href="#dmp-with-final-velocity" title="Link to this heading">¶</a></h3>
<img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dmp_with_final_velocity.png" width="800px" />
<p>Not all DMPs allow a final velocity &gt; 0. In this case we analyze the effect
of changing final velocities in an appropriate variation of the DMP
formulation that allows to set the final velocity.</p>
<p><a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/plot_dmp_with_final_velocity.py">Script</a></p>
</section>
<section id="promps">
<h3>ProMPs<a class="headerlink" href="#promps" title="Link to this heading">¶</a></h3>
<img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/promp_lasa.png" width="800px" />
<p>The LASA Handwriting dataset learned with ProMPs. The dataset consists of
2D handwriting motions. The first and third column of the plot represent
demonstrations and the second and fourth column show the imitated ProMPs
with 1-sigma interval.</p>
<p><a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/plot_promp_lasa.py">Script</a></p>
</section>
<section id="conditional-promps">
<h3>Conditional ProMPs<a class="headerlink" href="#conditional-promps" title="Link to this heading">¶</a></h3>
<img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/conditional_promps.png" width="800px" />
<p>Probabilistic Movement Primitives (ProMPs) define distributions over
trajectories that can be conditioned on viapoints. In this example, we
plot the resulting posterior distribution after conditioning on varying
start positions.</p>
<p><a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/plot_conditional_promp.py">Script</a></p>
</section>
<section id="cartesian-dmps">
<h3>Cartesian DMPs<a class="headerlink" href="#cartesian-dmps" title="Link to this heading">¶</a></h3>
<img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/cart_dmp_ur5.png" width="100%" />
<p>A trajectory is created manually, imitated with a Cartesian DMP, converted
to a joint trajectory by inverse kinematics, and executed with a UR5.</p>
<p><a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/vis_cartesian_dmp.py">Script</a></p>
</section>
<section id="contextual-promps">
<h3>Contextual ProMPs<a class="headerlink" href="#contextual-promps" title="Link to this heading">¶</a></h3>
<p><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/contextual_promps_kuka_panel_width_open3d.png" width="60%" /><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/contextual_promps_kuka_panel_width_open3d2.png" width="40%" /></p>
<p>We use a dataset of <a class="reference external" href="https://doi.org/10.1016/j.robot.2021.103779">Mronga and Kirchner (2021)</a>,
in which a dual-arm robot rotates panels of varying widths. 10 demonstrations
were recorded for 3 different panel widths through kinesthetic teaching.
The panel width is the context over which we generalize with contextual ProMPs.
We learn a joint distribution of contexts and ProMP weights, and then condition
the distribution on the contexts to obtain a ProMP adapted to the context. Each
color in the above visualizations corresponds to a ProMP for a different
context.</p>
<p><a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/external_dependencies/vis_contextual_promp_distribution.py">Script</a></p>
<p><strong>Dependencies that are not publicly available:</strong></p>
<ul>
<li><p>Dataset: panel rotation dataset of
<a class="reference external" href="https://doi.org/10.1016/j.robot.2021.103779">Mronga and Kirchner (2021)</a></p></li>
<li><p>MoCap library</p></li>
<li><p>URDF of dual arm Kuka system from
<a class="reference external" href="https://robotik.dfki-bremen.de/en/research/research-facilities-labs/hrc-lab">DFKI RIC’s HRC lab</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-robots/kuka_lbr.git
</pre></div>
</div>
</li>
</ul>
</section>
<section id="dual-cartesian-dmp">
<h3>Dual Cartesian DMP<a class="headerlink" href="#dual-cartesian-dmp" title="Link to this heading">¶</a></h3>
<p><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dual_cart_dmps_rh5_open3d.png" width="50%" /><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dual_cart_dmps_rh5_pybullet.png" width="50%" /></p>
<p>This library implements specific dual Cartesian DMPs to control dual-arm
robotic systems like humanoid robots.</p>
<p>Scripts: <a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/external_dependencies/vis_solar_panel.py">Open3D</a>, <a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/external_dependencies/sim_solar_panel.py">PyBullet</a></p>
<p><strong>Dependencies that are not publicly available:</strong></p>
<ul>
<li><p>MoCap library</p></li>
<li><p>URDF of <a class="reference external" href="https://www.youtube.com/watch?v=jjGQNstmLvY">DFKI RIC’s RH5 robot</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-robots/rh5_models/pybullet-only-arms-urdf.git<span class="w"> </span>--recursive
</pre></div>
</div>
</li>
<li><p>URDF of solar panel:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-objects/solar_panels.git
</pre></div>
</div>
</li>
</ul>
</section>
<section id="coupled-dual-cartesian-dmp">
<h3>Coupled Dual Cartesian DMP<a class="headerlink" href="#coupled-dual-cartesian-dmp" title="Link to this heading">¶</a></h3>
<p><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/coupled_dual_cart_dmps_gripper_open3d.png" width="60%" /><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/coupled_dual_cart_dmps_rh5_pybullet.png" width="40%" /></p>
<p>We can introduce a coupling term in a dual Cartesian DMP to constrain the
relative position, orientation, or pose of two end-effectors of a dual-arm
robot.</p>
<p>Scripts: <a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/external_dependencies/vis_cartesian_dual_dmp.py">Open3D</a>, <a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/external_dependencies/sim_cartesian_dual_dmp.py">PyBullet</a></p>
<p><strong>Dependencies that are not publicly available:</strong></p>
<ul>
<li><p>URDF of DFKI RIC’s gripper:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:motto/abstract-urdf-gripper.git<span class="w"> </span>--recursive
</pre></div>
</div>
</li>
<li><p>URDF of <a class="reference external" href="https://www.youtube.com/watch?v=jjGQNstmLvY">DFKI RIC’s RH5 robot</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-robots/rh5_models/pybullet-only-arms-urdf.git<span class="w"> </span>--recursive
</pre></div>
</div>
</li>
</ul>
</section>
<section id="propagation-of-dmp-distribution-to-state-space">
<h3>Propagation of DMP Distribution to State Space<a class="headerlink" href="#propagation-of-dmp-distribution-to-state-space" title="Link to this heading">¶</a></h3>
<p><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dmp_state_space_distribution_kuka_peginhole_matplotlib.png" width="60%" /><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/dmp_state_space_distribution_kuka_peginhole_open3d.png" width="40%" /></p>
<p>If we have a distribution over DMP parameters, we can propagate them to state
space through an unscented transform.
On the left we see the original demonstration of a dual-arm movement in state
space (two 3D positions and two quaternions) and the distribution of several
DMP weight vectors projected to the state space.
On the right side we see several dual-arm trajectories sampled from the
distribution in state space.</p>
<p><a class="reference external" href="https://github.com/dfki-ric/movement_primitives/blob/main/examples/external_dependencies/vis_dmp_to_state_variance.py">Script</a></p>
<p><strong>Dependencies that are not publicly available:</strong></p>
<ul>
<li><p>Dataset: panel rotation dataset of
<a class="reference external" href="https://doi.org/10.1016/j.robot.2021.103779">Mronga and Kirchner (2021)</a></p></li>
<li><p>MoCap library</p></li>
<li><p>URDF of dual arm
<a class="reference external" href="https://robotik.dfki-bremen.de/en/research/robot-systems/imrk/">Kuka system</a>
from
<a class="reference external" href="https://robotik.dfki-bremen.de/en/research/research-facilities-labs/hrc-lab">DFKI RIC’s HRC lab</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-robots/kuka_lbr.git
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="build-api-documentation">
<h2>Build API Documentation<a class="headerlink" href="#build-api-documentation" title="Link to this heading">¶</a></h2>
<p>You can build an API documentation with sphinx.
You can install all dependencies with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>movement_primitives<span class="o">[</span>doc<span class="o">]</span>
</pre></div>
</div>
<p>… and build the documentation from the folder <code class="docutils literal notranslate"><span class="pre">doc/</span></code> with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>html
</pre></div>
</div>
<p>It will be located at <code class="docutils literal notranslate"><span class="pre">doc/build/html/index.html</span></code>.</p>
</section>
<section id="test">
<h2>Test<a class="headerlink" href="#test" title="Link to this heading">¶</a></h2>
<p>To run the tests some python libraries are required:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="o">[</span>test<span class="o">]</span>
</pre></div>
</div>
<p>The tests are located in the folder <code class="docutils literal notranslate"><span class="pre">test/</span></code> and can be executed with:
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">pytest</span></code></p>
<p>This command searches for all files with <code class="docutils literal notranslate"><span class="pre">test</span></code> and executes the functions
with <code class="docutils literal notranslate"><span class="pre">test_*</span></code>. You will find a test coverage report at <code class="docutils literal notranslate"><span class="pre">htmlcov/index.html</span></code>.</p>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">¶</a></h2>
<p>You can report bugs in the <a class="reference external" href="https://github.com/dfki-ric/movement_primitives/issues">issue tracker</a>.
If you have questions about the software, please use the <a class="reference external" href="https://github.com/dfki-ric/movement_primitives/discussions">discussions
section</a>.
To add new features, documentation, or fix bugs you can open a pull request
on <a class="reference external" href="https://github.com/dfki-ric/movement_primitives">GitHub</a>. Directly pushing
to the main branch is not allowed.</p>
<p>The recommended workflow to add a new feature, add documentation, or fix a bug
is the following:</p>
<ul class="simple">
<li><p>Push your changes to a branch (e.g., feature/x, doc/y, or fix/z) of your fork
of the repository.</p></li>
<li><p>Open a pull request to the main branch of the main repository.</p></li>
</ul>
<p>This is a checklist for new features:</p>
<ul class="simple">
<li><p>are there unit tests?</p></li>
<li><p>does it have docstrings?</p></li>
<li><p>is it included in the API documentation?</p></li>
<li><p>run flake8 and pylint</p></li>
<li><p>should it be part of the readme?</p></li>
<li><p>should it be included in any example script?</p></li>
</ul>
</section>
<section id="non-public-extensions">
<h2>Non-public Extensions<a class="headerlink" href="#non-public-extensions" title="Link to this heading">¶</a></h2>
<p>Scripts from the subfolder <code class="docutils literal notranslate"><span class="pre">examples/external_dependencies/</span></code> require access to
git repositories (URDF files or optional dependencies) and datasets that are
not publicly available. They are available on request (email
alexander.fabisch&#64;dfki.de).</p>
<p>Note that the library does not have any non-public dependencies! They are only
required to run all examples.</p>
<section id="mocap-library">
<h3>MoCap Library<a class="headerlink" href="#mocap-library" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># untested: pip install git+https://git.hb.dfki.de/dfki-interaction/mocap.git</span>
git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:dfki-interaction/mocap.git
<span class="nb">cd</span><span class="w"> </span>mocap
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
<span class="nb">cd</span><span class="w"> </span>..
</pre></div>
</div>
</section>
<section id="get-urdfs">
<h3>Get URDFs<a class="headerlink" href="#get-urdfs" title="Link to this heading">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># RH5</span>
git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-robots/rh5_models/pybullet-only-arms-urdf.git<span class="w"> </span>--recursive
<span class="c1"># RH5v2</span>
git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-robots/rh5v2_models/pybullet-urdf.git<span class="w"> </span>--recursive
<span class="c1"># Kuka</span>
git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-robots/kuka_lbr.git
<span class="c1"># Solar panel</span>
git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:models-objects/solar_panels.git
<span class="c1"># RH5 Gripper</span>
git<span class="w"> </span>clone<span class="w"> </span>git@git.hb.dfki.de:motto/abstract-urdf-gripper.git<span class="w"> </span>--recursive
</pre></div>
</div>
</section>
<section id="data">
<h3>Data<a class="headerlink" href="#data" title="Link to this heading">¶</a></h3>
<p>I assume that your data is located in the folder <code class="docutils literal notranslate"><span class="pre">data/</span></code> in most scripts.
You should put a symlink there to point to your actual data folder.</p>
</section>
</section>
<section id="related-publications">
<h2>Related Publications<a class="headerlink" href="#related-publications" title="Link to this heading">¶</a></h2>
<p>This library implements several types of dynamical movement primitives and
probabilistic movement primitives. These are described in detail in the
following papers.</p>
<p>[1] Ijspeert, A. J., Nakanishi, J., Hoffmann, H., Pastor, P., Schaal, S. (2013).
Dynamical Movement Primitives: Learning Attractor Models for Motor
Behaviors, Neural Computation 25 (2), 328-373. DOI: 10.1162/NECO_a_00393,
https://homes.cs.washington.edu/~todorov/courses/amath579/reading/DynamicPrimitives.pdf</p>
<p>[2] Pastor, P., Hoffmann, H., Asfour, T., Schaal, S. (2009).
Learning and Generalization of Motor Skills by Learning from Demonstration.
In 2009 IEEE International Conference on Robotics and Automation,
(pp. 763-768). DOI: 10.1109/ROBOT.2009.5152385,
https://h2t.iar.kit.edu/pdf/Pastor2009.pdf</p>
<p>[3] Muelling, K., Kober, J., Kroemer, O., Peters, J. (2013).
Learning to Select and Generalize Striking Movements in Robot Table Tennis.
International Journal of Robotics Research 32 (3), 263-279.
https://www.ias.informatik.tu-darmstadt.de/uploads/Publications/Muelling_IJRR_2013.pdf</p>
<p>[4] Ude, A., Nemec, B., Petric, T., Murimoto, J. (2014).
Orientation in Cartesian space dynamic movement primitives.
In IEEE International Conference on Robotics and Automation (ICRA)
(pp. 2997-3004). DOI: 10.1109/ICRA.2014.6907291,
https://acat-project.eu/modules/BibtexModule/uploads/PDF/udenemecpetric2014.pdf</p>
<p>[5] Gams, A., Nemec, B., Zlajpah, L., Wächter, M., Asfour, T., Ude, A. (2013).
Modulation of Motor Primitives using Force Feedback: Interaction with
the Environment and Bimanual Tasks (2013), In 2013 IEEE/RSJ International
Conference on Intelligent Robots and Systems (pp. 5629-5635). DOI:
10.1109/IROS.2013.6697172,
https://h2t.anthropomatik.kit.edu/pdf/Gams2013.pdf</p>
<p>[6] Vidakovic, J., Jerbic, B., Sekoranja, B., Svaco, M., Suligoj, F. (2019).
Task Dependent Trajectory Learning from Multiple Demonstrations Using
Movement Primitives (2019),
In International Conference on Robotics in Alpe-Adria Danube Region (RAAD)
(pp. 275-282). DOI: 10.1007/978-3-030-19648-6_32,
https://link.springer.com/chapter/10.1007/978-3-030-19648-6_32</p>
<p>[7] Paraschos, A., Daniel, C., Peters, J., Neumann, G. (2013).
Probabilistic movement primitives, In C.J. Burges and L. Bottou and M.
Welling and Z. Ghahramani and K.Q. Weinberger (Eds.), Advances in Neural
Information Processing Systems, 26,
https://papers.nips.cc/paper/2013/file/e53a0a2978c28872a4505bdb51db06dc-Paper.pdf</p>
<p>[8] Maeda, G. J., Neumann, G., Ewerton, M., Lioutikov, R., Kroemer, O.,
Peters, J. (2017). Probabilistic movement primitives for coordination of
multiple human–robot collaborative tasks. Autonomous Robots, 41, 593-612.
DOI: 10.1007/s10514-016-9556-2,
https://link.springer.com/article/10.1007/s10514-016-9556-2</p>
<p>[9] Paraschos, A., Daniel, C., Peters, J., Neumann, G. (2018).
Using probabilistic movement primitives in robotics. Autonomous Robots, 42,
529-551. DOI: 10.1007/s10514-017-9648-7,
https://www.ias.informatik.tu-darmstadt.de/uploads/Team/AlexandrosParaschos/promps_auro.pdf</p>
<p>[10] Lazaric, A., Ghavamzadeh, M. (2010).
Bayesian Multi-Task Reinforcement Learning. In Proceedings of the 27th
International Conference on International Conference on Machine Learning
(ICML’10) (pp. 599-606). https://hal.inria.fr/inria-00475214/document</p>
</section>
<section id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Link to this heading">¶</a></h2>
<p>If you use <code class="docutils literal notranslate"><span class="pre">movement_primitives</span></code> for a scientific publication, I would
appreciate citation of the following paper:</p>
<p>Fabisch, A., (2024). movement_primitives: Imitation Learning of Cartesian
Motion with Movement Primitives. Journal of Open Source Software, 9(97), 6695,
<a class="reference external" href="https://doi.org/10.21105/joss.06695"><img alt="Paper DOI" src="https://joss.theoj.org/papers/10.21105/joss.06695/status.svg" /></a></p>
<p>Bibtex entry:</p>
<div class="highlight-bibtex notranslate"><div class="highlight"><pre><span></span><span class="nc">@article</span><span class="p">{</span><span class="nl">Fabisch2024</span><span class="p">,</span>
<span class="w">  </span><span class="na">doi</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{10.21105/joss.06695}</span><span class="p">,</span>
<span class="w">  </span><span class="na">url</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{https://doi.org/10.21105/joss.06695}</span><span class="p">,</span>
<span class="w">  </span><span class="na">year</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{2024}</span><span class="p">,</span>
<span class="w">  </span><span class="na">publisher</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{The Open Journal}</span><span class="p">,</span>
<span class="w">  </span><span class="na">volume</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{9}</span><span class="p">,</span>
<span class="w">  </span><span class="na">number</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{97}</span><span class="p">,</span>
<span class="w">  </span><span class="na">pages</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{6695}</span><span class="p">,</span>
<span class="w">  </span><span class="na">author</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{Alexander Fabisch}</span><span class="p">,</span>
<span class="w">  </span><span class="na">title</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{movement_primitives: Imitation Learning of Cartesian Motion with Movement Primitives}</span><span class="p">,</span>
<span class="w">  </span><span class="na">journal</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">{Journal of Open Source Software}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="funding">
<h2>Funding<a class="headerlink" href="#funding" title="Link to this heading">¶</a></h2>
<p>This library has been developed initially at the
<a class="reference external" href="https://robotik.dfki-bremen.de/en/startpage.html">Robotics Innovation Center</a>
of the German Research Center for Artificial Intelligence (DFKI GmbH) in
Bremen. At this phase the work was supported through a grant of the German
Federal Ministry of Economic Affairs and Energy (BMWi, FKZ 50 RA 1701).</p>
<p><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/DFKI_Logo.jpg" height="150px" /><img src="https://raw.githubusercontent.com/dfki-ric/movement_primitives/main/doc/source/_static/241-logo-bmwi-jpg.jpg" height="150px" /></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020-2024, Alexander Fabisch, DFKI GmbH, Robotics Innovation Center.<br/>
    </p>
  </div>
</footer>
  </body>
</html>